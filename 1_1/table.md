1. ИСХОДНАЯ ТАБЛИЦА

Исходная таблица является ненормализованной. Столбцы `Код_Товара`, `Название_Товара`, `Цена_Товара` не являются атомарными (содержат несколько значений);

| Номер_Заказа | Дата_Заказа  | Имя_Клиента      | Телефон_Клиента  | Адрес_Доставки          | Код_Товара        | Название_Товара               | Цена_Товара     | Количество    | Стоимость_Заказа |
|------------- |--------------|------------------|------------------|-------------------------|-------------------|-------------------------------|-----------------|---------------|------------------|
| 1            | 01-10-2023   | Иван Иванов      | 123-4567         | Ул. Ленина, д. 10       | 101, 102          | Молоко, Хлеб                  | 50, 30          | 2, 1          | 130              |
| 2            | 01-10-2023   | Петр Петров      | 987-6543         | Ул. Мира, д. 5          | 103               | Сахар                         | 40              | 1             | 40               |
| 3            | 02-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       | 104, 105, 106     | Яблоки, Бананы, Апельсины     | 70, 80, 90      | 1, 2, 1       | 320              |
| 4            | 02-10-2023   | Иван Иванов      | 123-4567         | Ул. Ленина, д. 10       | 107               | Кофе                          | 150             | 1             | 150              |
| 5            | 03-10-2023   | Анна Антонова    | 222-3333         | Ул. Солнечная, д. 3     | 108, 109          | Чай, Сок                      | 60, 40          | 2, 3          | 260              |
| 6            | 03-10-2023   | Сергей Сергеев   | 444-5555         | Ул. Озерная, д. 8       | 101               | Молоко                        | 50              | 1             | 50               |
| 7            | 04-10-2023   | Петр Петров      | 987-6543         | Ул. Мира, д. 5          | 110, 111          | Хлеб, Масло                   | 30, 120         | 1, 1          | 150              |
| 8            | 04-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       | 112               | Сыр                           | 200             | 1             | 200              |
| 9            | 05-10-2023   | Анна Антонова    | 222-3333         | Ул. Солнечная, д. 3     | 113, 114          | Шоколад, Печенье              | 80, 60          | 2, 3          | 360              |
| 10           | 05-10-2023   | Сергей Сергеев   | 444-5555         | Ул. Озерная, д. 8       | 115               | Йогурт                        | 70              | 2             | 140              |

2. ПЕРВАЯ НОРМАЛЬНАЯ ФОРМА

Для приведения таблицы к первой нормальной форме требуется гарантировать, что в столбцах `Код_Товара`, `Название_Товара`, `Цена_Товара` не было повторяющихся значений. Значение поля `Стоимость_Заказа` заменено на `Стоимость_Позиции` и расчитывается отдельно для каждого товара (это необязательное действие при приведении к 1НФ, но допустимое для дальнейшего перевода к 2НФ).

Таблица примет следующий вид:
| Номер_Заказа | Дата_Заказа  | Имя_Клиента      | Телефон_Клиента  | Адрес_Доставки          | Код_Товара | Название_Товара | Цена_Товара | Количество | Стоимость_Позиции |
|------------- |--------------|------------------|------------------|-------------------------|------------|-----------------|-------------|------------|------------------ |
| 1            | 01-10-2023   | Иван Иванов      | 123-4567         | Ул. Ленина, д. 10       | 101        | Молоко          | 50          | 2          | 100               |
| 1            | 01-10-2023   | Иван Иванов      | 123-4567         | Ул. Ленина, д. 10       | 102        | Хлеб            | 30          | 1          | 30                |
| 2            | 01-10-2023   | Петр Петров      | 987-6543         | Ул. Мира, д. 5          | 103        | Сахар           | 40          | 1          | 40                |
| 3            | 02-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       | 104        | Яблоки          | 70          | 1          | 70                |
| 3            | 02-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       | 105        | Бананы          | 80          | 2          | 160               |
| 3            | 02-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       | 106        | Апельсины       | 90          | 1          | 90                |

3. ВТОРАЯ НОРМАЛЬНАЯ ФОРМА

Получившаяся таблица в первой нормальной форме содержит повторяющиеся значения для каждого `Номер_Заказа`. Для приведения таблицы ко второй нормальной форме необходимо разделить таблицу первой нормальной формы на 2 таблицы: `Заказы` и `Товары`. Связь между таблицами осуществляется с помощью поля `Номер_Заказа`.
    
Таблица `Заказы`:
| Номер_Заказа | Дата_Заказа  | Имя_Клиента      | Телефон_Клиента  | Адрес_Доставки          |
|------------- |--------------|------------------|------------------|-------------------------|
| 1            | 01-10-2023   | Иван Иванов      | 123-4567         | Ул. Ленина, д. 10       |
| 2            | 01-10-2023   | Петр Петров      | 987-6543         | Ул. Мира, д. 5          |
| 3            | 02-10-2023   | Ольга Орлова     | 555-1234         | Ул. Крылова, д. 7       |

Таблица `Товары`:
| Номер_Заказа | Код_Товара | Название_Товара | Цена_Товара | Количество | Стоимость_Позиции |
|------------- |------------|-----------------|-------------|------------|------------------ |
| 1            | 101        | Молоко          | 50          | 2          | 100               |
| 1            | 102        | Хлеб            | 30          | 1          | 30                |
| 2            | 103        | Сахар           | 40          | 1          | 40                |
| 3            | 104        | Яблоки          | 70          | 1          | 70                |
| 3            | 105        | Бананы          | 80          | 2          | 160               |
| 3            | 106        | Апельсины       | 90          | 1          | 90                |

4. КОГДА ТРЕБУЕТСЯ ДЕНОРМАЛИЗАЦИЯ И ВАРИАНТ ДЕНОРМАЛИЗАЦИИ
Для упрощения и уменьшения количества запросов можно вернуть производные поля, которые приходится вычислять при каждом запросе заказов. Так в таблице `Заказы` мы можем вернуть поле `Стоимость_Заказа`, в котором будет храниться итоговая стоимость всего заказа и соответственно при запросе заказов нам не нужно будет дополнительно запрашивать сумму по столбцу `Стоимость_Позиции` для товаров этого заказа.

5. ТРЕТЬЯ НОРМАЛЬНАЯ ФОРМА

Для приведения получившихся таблиц к третьей нормальной форме необходимо исключить из них данные, которые не зависят от ключа. Для этого мы должны завести новые таблицы.
Дополнительно мы избавляемся от столбца `Стоимость_Позиции`, т.к. фактически это производное значение (вычисляется как произведение значений из полей `Количество` (таблица `Товары_Заказа`) и `Цена_Товара` (таблица `Товары`)).

Таблица `Заказы`:
| Номер_Заказа | Дата_Заказа | Номер_Клиента | Адрес_Доставки          |
|------------- |-------------|-------------- |------------------------ |
| 1            | 01-10-2023  | 1             | Ул. Ленина, д. 10       |
| 2            | 01-10-2023  | 2             | Ул. Мира, д. 5          |
| 3            | 02-10-2023  | 3             | Ул. Крылова, д. 7       |

Таблица `Клиенты`:
| Номер_Клиента | Имя_Клиента  | Телефон_Клиента |
|-------------- |------------- |---------------- |
| 1             | Иван Иванов  | 123-4567        |
| 2             | Петр Петров  | 987-6543        |
| 3             | Ольга Орлова | 555-1234        |

Таблица `Товары`:
| Код_Товара | Название_Товара | Цена_Товара |
|----------- |-----------------|-------------|
| 101        | Молоко          | 50          |
| 102        | Хлеб            | 30          |
| 103        | Сахар           | 40          |
| 104        | Яблоки          | 70          |
| 105        | Бананы          | 80          |
| 106        | Апельсины       | 90          |

Таблица `Товары_Заказа`:
| Номер_Позиции | Номер_Заказа | Код_Товара | Количество |
|-------------- |------------- |------------|----------- |
| 1             | 1            | 101        | 2          |
| 2             | 1            | 102        | 1          |
| 3             | 2            | 103        | 1          |
| 4             | 3            | 104        | 1          |
| 5             | 3            | 105        | 2          |
| 6             | 3            | 106        | 1          |

Получившиеся таблицы также могут быть денормальзованы для облегчения последующей работы с ними, а также для хранения исторических значений. Например:
- В таблицу `Заказы` можно вернуть поле `Стоимость_Заказа`. Сделав это мы избавляемся от необходимости постоянного пересчёта стоимости всего заказа, а также защищаемся от возможного изменения цены на товар;
- В таблицу `Заказы` можно вернуть поля `Имя_Клиента` и `Телефон_Клиента`. Этот шаг во-первых позволит защититься от изменения данных клиента, а во-вторых избавит от необходимости джоинить таблицу `Клиенты` при запросе заказов;
- В таблицу `Товары_Заказа` можно вернуть поле `Стоимость_Позиции`, чтобы не вычислять это значение при каждом запросе. Дополнительно мы можем добавить столбец `Название_Товара`, которое позволит защититься от возможных изменений значений в таблице `Товары`.

Из дополнительного: можно вместо `Номер_Позиции` использовать составной PK (`Номер_Заказа` + `Код_Товара`). Другой вариант - уникализировать пару `Номер_Заказа` + `Код_Товара`. Третий вариант - не уникализировать пару `Номер_Заказа` + `Код_Товара`, предполагая, что в одном заказе могут находиться одинаковые товары с разным количеством.